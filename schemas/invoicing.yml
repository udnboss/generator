api:
  title: Invoicing API
  description: Invoicing API Reference
  version: '1.0'
  prefix: /api/v1
scripts:
  outputDir: ./output/invoicing
  framework: express #express|webapi|fastapi
interfaces:
  account:
    id: string
    label: string
    bank_name: string
    bank_address: string
    bank_swift: string
    account_name: string
    account_iban: string
    account_address: string

  category:
    id: string
    name: string
    category_id?: string > category.id

    category?: =category
    items?: =item[]

  company:
    id: string
    name: string
    address: string
    crn: string
    trn: string
    contact: string
    mobile: string
    email: string|email

  currency:
    id: string
    name: string
    symbol: string

  customer:
    id: string
    name: string
    address?: string
    contact?: string
    currency_id?: string > currency.id
    currency?: =currency
    payment_term?: integer

    sales?: =sale[]

  item:
    id: string
    name: string
    category_id?: string > category.id

    category?: =category

  sale:
    id: string
    company_id: string > company.id
    account_id: string > account.id
    customer_id: string > customer.id
    place?: string
    number: integer
    date*: string|date # a * means disallow update
    currency_id: string > currency.id
    total!*: number # a !* means disallow both create, update
    reference?: string    
    confirmed: boolean

    reference_date?: string|date
    due_date?: string|date

    currency?: =currency
    customer?: =customer
    account?: =account
    company?: =company
    items?: =saleItem[]

  saleItem:
    id: string
    sale_id: string > sale.id
    item_id: string > item.id
    description: string
    quantity: number
    price: number    
    
    sale?: =sale
    item?: =item